<jp-content-overlay id="blogs" layout="column" [title]="'Our Blog'" jp-infinite-scroll-container #container>
	<mat-toolbar id="filters" class="overlay-toolbar transparent">
		<h4 class="light text-uppercase">Filter By:</h4>
		<div class="filters-buttonset" jp-icon-buttonset>
			<jp-icon-button class="horizontal mdm black" (click)="filterData('mdm', $event)" [class.active]="filter === 'mdm'">
				<jp-icon-button-text>MDM</jp-icon-button-text>
				<jp-icon></jp-icon>
				<jp-icon-hover></jp-icon-hover>
			</jp-icon-button>
			<jp-icon-button class="horizontal publishing blue" (click)="filterData('publishing', $event)" [class.active]="filter === 'publishing'">
				<jp-icon-button-text>Publishing</jp-icon-button-text>
				<jp-icon></jp-icon>
				<jp-icon-hover></jp-icon-hover>
			</jp-icon-button>
			<jp-icon-button class="horizontal creative yellow" (click)="filterData('creative', $event)" [class.active]="filter === 'creative'" svg="Creative">
				<jp-icon-button-text>Creative</jp-icon-button-text>
			</jp-icon-button>
			<jp-icon-button class="horizontal interactive fuchsia" (click)="filterData('interactive', $event)" [class.active]="filter === 'interactive'" svg="Interactive">
				<jp-icon-button-text>Interactive</jp-icon-button-text>
			</jp-icon-button>
			<jp-icon-button class="horizontal news green" (click)="filterData('news', $event)" [class.active]="filter === 'news'">
				<jp-icon-button-text>News</jp-icon-button-text>
				<jp-icon></jp-icon>
				<jp-icon-hover></jp-icon-hover>
			</jp-icon-button>
		</div>
	</mat-toolbar>
	<div class="content" *ngIf="blogs">
    <jp-card *ngFor="let blog of blogs.blogs"
    	class="cell"
    	[image]="blog.image?.url"
    	[cardTitle]="blog.title"
    	[summary]="blog.summary"
    	[body]="blog.body"
    	[date]="blog.created_at"
    	[tag]="blog.tags?.length && blog.tags[0].name === 'News' ? 'News' : blog.divisions[0].display_name ? blog.divisions[0].display_name : blog.divisions[0].name"
    	[author]="blog.author?.full_name"
    	[route]="['/blogs/' + blog.uri]"
    	theme="post">
		</jp-card>
  </div>
  <div class="button-container" [hidden]="finished">
  	<button mat-button class="load-more inverted-button" (click)="more()">Load More</button>
  </div>
	<div class="infinite-scroll-finished full-width" [hidden]="!finished">
		<mat-icon>receipt</mat-icon><div>End of Content</div>
	</div>
</jp-content-overlay>